{"ast":null,"code":"import _classCallCheck from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Injector } from '@angular/core';\nimport { AppComponentBase } from '@shared/app-component-base';\nimport { accountModuleAnimation } from '@shared/animations/routerTransition';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared/auth/app-auth.service\";\nimport * as i2 from \"abp-ng2-module\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/components/validation/abp-validation.summary.component\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@shared/pipes/localize.pipe\";\n\nvar _c0 = function _c0() {\n  return [\"../register\"];\n};\n\nfunction LoginComponent_p_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22)(1, \"a\", 23);\n    i0.ɵɵelement(2, \"i\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"localize\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"Register\"), \" \");\n  }\n}\n\nexport var LoginComponent = /*#__PURE__*/function (_AppComponentBase) {\n  _inherits(LoginComponent, _AppComponentBase);\n\n  var _super = _createSuper(LoginComponent);\n\n  function LoginComponent(injector, authService, _sessionService) {\n    var _this;\n\n    _classCallCheck(this, LoginComponent);\n\n    _this = _super.call(this, injector);\n    _this.authService = authService;\n    _this._sessionService = _sessionService;\n    _this.submitting = false;\n    return _this;\n  }\n\n  _createClass(LoginComponent, [{\n    key: \"multiTenancySideIsTeanant\",\n    get: function get() {\n      return this._sessionService.tenantId > 0;\n    }\n  }, {\n    key: \"isSelfRegistrationAllowed\",\n    get: function get() {\n      if (!this._sessionService.tenantId) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      this.submitting = true;\n      this.authService.authenticate(function () {\n        return _this2.submitting = false;\n      });\n    }\n  }]);\n\n  return LoginComponent;\n}(AppComponentBase);\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.AppAuthService), i0.ɵɵdirectiveInject(i2.AbpSessionService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"ng-component\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 38,\n  vars: 25,\n  consts: [[1, \"text-center\", \"mb-3\"], [\"novalidate\", \"\", \"autocomplete\", \"off\", 3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"form-group\"], [1, \"input-group\"], [\"type\", \"text\", \"name\", \"userNameOrEmailAddress\", \"required\", \"\", \"maxlength\", \"256\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"userNameOrEmailAddressModel\", \"ngModel\", \"userNameOrEmailAddressEl\", \"\"], [1, \"input-group-append\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-user\"], [3, \"control\", \"controlEl\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", \"maxlength\", \"32\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"passwordModel\", \"ngModel\", \"passwordEl\", \"\"], [1, \"fas\", \"fa-lock\"], [1, \"form-group\", \"row\"], [1, \"col-md-8\"], [1, \"custom-control\", \"custom-checkbox\"], [\"type\", \"checkbox\", \"id\", \"rememberMe\", \"name\", \"rememberMe\", 1, \"custom-control-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"rememberMe\", 1, \"custom-control-label\"], [1, \"col-md-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\"], [\"class\", \"mb-1\", 4, \"ngIf\"], [1, \"mb-1\"], [3, \"routerLink\"], [1, \"fa\", \"fa-plus-circle\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 0);\n      i0.ɵɵtext(2);\n      i0.ɵɵpipe(3, \"localize\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.authService.authenticateModel.userNameOrEmailAddress = $event;\n      });\n      i0.ɵɵpipe(11, \"localize\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8);\n      i0.ɵɵelement(14, \"span\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(15, \"abp-validation-summary\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 3)(17, \"div\", 4)(18, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_18_listener($event) {\n        return ctx.authService.authenticateModel.password = $event;\n      });\n      i0.ɵɵpipe(21, \"localize\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 7)(23, \"div\", 8);\n      i0.ɵɵelement(24, \"span\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(25, \"abp-validation-summary\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 14)(27, \"div\", 15)(28, \"div\", 16)(29, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.authService.rememberMe = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"label\", 18);\n      i0.ɵɵtext(31);\n      i0.ɵɵpipe(32, \"localize\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 19)(34, \"button\", 20);\n      i0.ɵɵtext(35);\n      i0.ɵɵpipe(36, \"localize\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(37, LoginComponent_p_37_Template, 5, 5, \"p\", 21);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      var _r0 = i0.ɵɵreference(5);\n\n      var _r1 = i0.ɵɵreference(9);\n\n      var _r2 = i0.ɵɵreference(10);\n\n      var _r3 = i0.ɵɵreference(19);\n\n      var _r4 = i0.ɵɵreference(20);\n\n      i0.ɵɵproperty(\"@routerTransition\", undefined);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 15, \"LogIn\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.authService.authenticateModel.userNameOrEmailAddress)(\"placeholder\", i0.ɵɵpipeBind1(11, 17, \"UserNameOrEmail\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"control\", _r1)(\"controlEl\", _r2);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.authService.authenticateModel.password)(\"placeholder\", i0.ɵɵpipeBind1(21, 19, \"Password\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"control\", _r3)(\"controlEl\", _r4);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.authService.rememberMe);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(32, 21, \"RememberMe\"), \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx.submitting);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(36, 23, \"LogIn\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSelfRegistrationAllowed);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.CheckboxControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm, i5.AbpValidationSummaryComponent, i6.RouterLinkWithHref, i7.LocalizePipe],\n  encapsulation: 2,\n  data: {\n    animation: [accountModuleAnimation()]\n  }\n});","map":{"version":3,"mappings":";;;;AAAA,SAAoBA,QAApB,QAAoC,eAApC;AAEA,SAASC,gBAAT,QAAiC,4BAAjC;AACA,SAASC,sBAAT,QAAuC,qCAAvC;;;;;;;;;;;;;;;;IC0EEC,8BAAkD,CAAlD,EAAkD,GAAlD,EAAkD,EAAlD;IAEIA;IAAkCA;;IACpCA;;;;IAFGA;IAAAA;IACiCA;IAAAA;;;;ADrExC,WAAaC,cAAb;EAAA;;EAAA;;EAGE,wBACEC,QADF,EAESC,WAFT,EAGUC,eAHV,EAG4C;IAAA;;IAAA;;IAE1C,0BAAMF,QAAN;IAHO;IACC;IALV,mBAAa,KAAb;IAK4C;EAG3C;;EATH;IAAA;IAAA,KAWE,eAA6B;MAC3B,OAAO,KAAKE,eAAL,CAAqBC,QAArB,GAAgC,CAAvC;IACD;EAbH;IAAA;IAAA,KAeE,eAA6B;MAC3B,IAAI,CAAC,KAAKD,eAAL,CAAqBC,QAA1B,EAAoC;QAClC,OAAO,KAAP;MACD;;MAED,OAAO,IAAP;IACD;EArBH;IAAA;IAAA,OAuBE,iBAAK;MAAA;;MACH,KAAKC,UAAL,GAAkB,IAAlB;MACA,KAAKH,WAAL,CAAiBI,YAAjB,CAA8B;QAAA,OAAO,MAAI,CAACD,UAAL,GAAkB,KAAzB;MAAA,CAA9B;IACD;EA1BH;;EAAA;AAAA,EAAoCR,gBAApC;;;mBAAaG,gBAAcD;AAAA;;;QAAdC;EAAcO;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3Bb,4BAAyB,CAAzB,EAAyB,IAAzB,EAAyB,CAAzB;MAC+BA;;MAAwBA;MACrDA;MAAwDA;QAAA,OAAYc,WAAZ;MAAmB,CAAnB;MACtDd,+BAAwB,CAAxB,EAAwB,KAAxB,EAAwB,CAAxB,EAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB,EAAwB,CAAxB;MAMMA;QAAA;MAAA;;MAJFA;MAWAA,gCAAgC,EAAhC,EAAgC,KAAhC,EAAgC,CAAhC;MAEIA;MACFA;MAGJA;MAIFA;MACAA,gCAAwB,EAAxB,EAAwB,KAAxB,EAAwB,CAAxB,EAAwB,EAAxB,EAAwB,OAAxB,EAAwB,EAAxB,EAAwB,EAAxB;MAMMA;QAAA;MAAA;;MAJFA;MAWAA,gCAAgC,EAAhC,EAAgC,KAAhC,EAAgC,CAAhC;MAEIA;MACFA;MAGJA;MAIFA;MACAA,iCAA4B,EAA5B,EAA4B,KAA5B,EAA4B,EAA5B,EAA4B,EAA5B,EAA4B,KAA5B,EAA4B,EAA5B,EAA4B,EAA5B,EAA4B,OAA5B,EAA4B,EAA5B;MAQQA;QAAA;MAAA;MALFA;MAOAA;MACEA;;MACFA;MAGJA,iCAAsB,EAAtB,EAAsB,QAAtB,EAAsB,EAAtB;MAMIA;;MACFA;MAINA;MAKFA;;;;;;;;;;;;;;MAlFKA;MAC0BA;MAAAA;MAQrBA;MAAAA,mFAAkE,aAAlE,EAAkEA,yCAAlE;MAcFA;MAAAA,8BAAuC,WAAvC,EAAuCe,GAAvC;MAUEf;MAAAA,qEAAoD,aAApD,EAAoDA,kCAApD;MAcFA;MAAAA,8BAAyB,WAAzB,EAAyBgB,GAAzB;MAYIhB;MAAAA;MAGAA;MAAAA;MAQFA;MAAAA;MAEAA;MAAAA;MAKJA;MAAAA;;;;;;eDrEQ,CAACD,sBAAsB,EAAvB","names":["Injector","AppComponentBase","accountModuleAnimation","i0","LoginComponent","injector","authService","_sessionService","tenantId","submitting","authenticate","selectors","features","decls","vars","consts","template","ctx","_r2","_r4"],"sourceRoot":"","sources":["/Users/selim/repo/eryaz/angular/src/account/login/login.component.ts","/Users/selim/repo/eryaz/angular/src/account/login/login.component.html"],"sourcesContent":["import { Component, Injector } from '@angular/core';\nimport { AbpSessionService } from 'abp-ng2-module';\nimport { AppComponentBase } from '@shared/app-component-base';\nimport { accountModuleAnimation } from '@shared/animations/routerTransition';\nimport { AppAuthService } from '@shared/auth/app-auth.service';\n\n@Component({\n  templateUrl: './login.component.html',\n  animations: [accountModuleAnimation()]\n})\nexport class LoginComponent extends AppComponentBase {\n  submitting = false;\n\n  constructor(\n    injector: Injector,\n    public authService: AppAuthService,\n    private _sessionService: AbpSessionService\n  ) {\n    super(injector);\n  }\n\n  get multiTenancySideIsTeanant(): boolean {\n    return this._sessionService.tenantId > 0;\n  }\n\n  get isSelfRegistrationAllowed(): boolean {\n    if (!this._sessionService.tenantId) {\n      return false;\n    }\n\n    return true;\n  }\n\n  login(): void {\n    this.submitting = true;\n    this.authService.authenticate(() => (this.submitting = false));\n  }\n}\n","<div [@routerTransition]>\n  <h4 class=\"text-center mb-3\">{{ \"LogIn\" | localize }}</h4>\n  <form novalidate autocomplete=\"off\" #loginForm=\"ngForm\" (ngSubmit)=\"login()\">\n    <div class=\"form-group\">\n      <div class=\"input-group\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          name=\"userNameOrEmailAddress\"\n          [(ngModel)]=\"authService.authenticateModel.userNameOrEmailAddress\"\n          [placeholder]=\"'UserNameOrEmail' | localize\"\n          required\n          maxlength=\"256\"\n          #userNameOrEmailAddressModel=\"ngModel\"\n          #userNameOrEmailAddressEl\n        />\n        <div class=\"input-group-append\">\n          <div class=\"input-group-text\">\n            <span class=\"fas fa-user\"></span>\n          </div>\n        </div>\n      </div>\n      <abp-validation-summary\n        [control]=\"userNameOrEmailAddressModel\"\n        [controlEl]=\"userNameOrEmailAddressEl\"\n      ></abp-validation-summary>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"input-group\">\n        <input\n          type=\"password\"\n          class=\"form-control\"\n          name=\"password\"\n          [(ngModel)]=\"authService.authenticateModel.password\"\n          [placeholder]=\"'Password' | localize\"\n          required\n          maxlength=\"32\"\n          #passwordModel=\"ngModel\"\n          #passwordEl\n        />\n        <div class=\"input-group-append\">\n          <div class=\"input-group-text\">\n            <span class=\"fas fa-lock\"></span>\n          </div>\n        </div>\n      </div>\n      <abp-validation-summary\n        [control]=\"passwordModel\"\n        [controlEl]=\"passwordEl\"\n      ></abp-validation-summary>\n    </div>\n    <div class=\"form-group row\">\n      <div class=\"col-md-8\">\n        <div class=\"custom-control custom-checkbox\">\n          <input\n            type=\"checkbox\"\n            class=\"custom-control-input\"\n            id=\"rememberMe\"\n            name=\"rememberMe\"\n            [(ngModel)]=\"authService.rememberMe\"\n          />\n          <label for=\"rememberMe\" class=\"custom-control-label\">\n            {{ \"RememberMe\" | localize }}\n          </label>\n        </div>\n      </div>\n      <div class=\"col-md-4\">\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary btn-block\"\n          [disabled]=\"!loginForm.form.valid || submitting\"\n        >\n          {{ \"LogIn\" | localize }}\n        </button>\n      </div>\n    </div>\n  </form>\n  <p *ngIf=\"isSelfRegistrationAllowed\" class=\"mb-1\">\n    <a [routerLink]=\"['../register']\">\n      <i class=\"fa fa-plus-circle\"></i> {{ \"Register\" | localize }}\n    </a>\n  </p>\n</div>\n"]},"metadata":{},"sourceType":"module"}