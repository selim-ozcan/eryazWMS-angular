{"ast":null,"code":"import _classCallCheck from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Injector } from '@angular/core';\nimport { AppComponentBase } from '@shared/app-component-base';\nimport { NavigationEnd, PRIMARY_OUTLET } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MenuItem } from '@shared/layout/menu-item';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ngx-bootstrap/collapse\";\n\nfunction SidebarMenuComponent_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nvar _c0 = function _c0(a0) {\n  return {\n    item: a0\n  };\n};\n\nfunction SidebarMenuComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SidebarMenuComponent_ng_container_2_ng_container_1_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var item_r3 = ctx.$implicit;\n    i0.ɵɵnextContext();\n\n    var _r1 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c0, item_r3));\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 11);\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var item_r5 = i0.ɵɵnextContext(2).item;\n    i0.ɵɵclassProp(\"active\", item_r5.isActive);\n    i0.ɵɵproperty(\"routerLink\", item_r5.route);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"nav-icon \", item_r5.icon, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.label, \" \");\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 12);\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var item_r5 = i0.ɵɵnextContext(2).item;\n    i0.ɵɵproperty(\"href\", item_r5.route, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"nav-icon \", item_r5.icon, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.label, \" \");\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function SidebarMenuComponent_ng_template_3_li_0_a_3_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      var item_r5 = i0.ɵɵnextContext(2).item;\n      return i0.ɵɵresetView(item_r5.isCollapsed = !item_r5.isCollapsed);\n    });\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"i\", 14);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var item_r5 = i0.ɵɵnextContext(2).item;\n    i0.ɵɵclassProp(\"active\", item_r5.isActive);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"nav-icon \", item_r5.icon, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.label, \" \");\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_ul_4_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_ul_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SidebarMenuComponent_ng_template_3_li_0_ul_4_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var item_r18 = ctx.$implicit;\n    i0.ɵɵnextContext(4);\n\n    var _r1 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c0, item_r18));\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 15);\n    i0.ɵɵtemplate(1, SidebarMenuComponent_ng_template_3_li_0_ul_4_ng_container_1_Template, 2, 4, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r5 = i0.ɵɵnextContext(2).item;\n    i0.ɵɵproperty(\"collapse\", item_r5.isCollapsed)(\"isAnimated\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r5.children);\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_li_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵtemplate(1, SidebarMenuComponent_ng_template_3_li_0_a_1_Template, 4, 7, \"a\", 7);\n    i0.ɵɵtemplate(2, SidebarMenuComponent_ng_template_3_li_0_a_2_Template, 4, 5, \"a\", 8);\n    i0.ɵɵtemplate(3, SidebarMenuComponent_ng_template_3_li_0_a_3_Template, 5, 6, \"a\", 9);\n    i0.ɵɵtemplate(4, SidebarMenuComponent_ng_template_3_li_0_ul_4_Template, 2, 3, \"ul\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r5 = i0.ɵɵnextContext().item;\n    i0.ɵɵclassProp(\"menu-open\", !item_r5.isCollapsed)(\"has-treeview\", item_r5.children);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.route && item_r5.route.indexOf(\"http\") != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.route && item_r5.route.indexOf(\"http\") == 0 && !item_r5.children);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r5.route && item_r5.children);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.children);\n  }\n}\n\nfunction SidebarMenuComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, SidebarMenuComponent_ng_template_3_li_0_Template, 5, 8, \"li\", 5);\n  }\n\n  if (rf & 2) {\n    var item_r5 = ctx.item;\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isMenuItemVisible(item_r5));\n  }\n}\n\nexport var SidebarMenuComponent = /*#__PURE__*/function (_AppComponentBase) {\n  _inherits(SidebarMenuComponent, _AppComponentBase);\n\n  var _super = _createSuper(SidebarMenuComponent);\n\n  function SidebarMenuComponent(injector, router) {\n    var _this;\n\n    _classCallCheck(this, SidebarMenuComponent);\n\n    _this = _super.call(this, injector);\n    _this.router = router;\n    _this.menuItemsMap = {};\n    _this.activatedMenuItems = [];\n    _this.routerEvents = new BehaviorSubject(undefined);\n    _this.homeRoute = '/app/about';\n\n    _this.router.events.subscribe(_this.routerEvents);\n\n    return _this;\n  }\n\n  _createClass(SidebarMenuComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this2 = this;\n\n      this.menuItems = this.getMenuItems();\n      this.patchMenuItems(this.menuItems);\n      this.routerEvents.pipe(filter(function (event) {\n        return event instanceof NavigationEnd;\n      })).subscribe(function (event) {\n        var currentUrl = event.url !== '/' ? event.url : _this2.homeRoute;\n\n        var primaryUrlSegmentGroup = _this2.router.parseUrl(currentUrl).root.children[PRIMARY_OUTLET];\n\n        if (primaryUrlSegmentGroup) {\n          _this2.activateMenuItems('/' + primaryUrlSegmentGroup.toString());\n        }\n      });\n    }\n  }, {\n    key: \"getMenuItems\",\n    value: function getMenuItems() {\n      return [new MenuItem(this.l('About'), '/app/about', 'fas fa-info-circle'), new MenuItem(this.l('HomePage'), '/app/home', 'fas fa-home'), new MenuItem(this.l('Roles'), '/app/roles', 'fas fa-theater-masks', 'Pages.Roles'), // new MenuItem(\n      //     this.l('Tenants'),\n      //     '/app/tenants',\n      //     'fas fa-building',\n      //     'Pages.Tenants'\n      // ),\n      // new MenuItem(\n      //     this.l('Users'),\n      //     '/app/users',\n      //     'fas fa-users',\n      //     'Pages.Users'\n      // ),\n      // Selim\n      new MenuItem(\"Customers\", '/app/customers', 'fas fa-user-shield', 'Pages.Customers'), new MenuItem(\"Products\", '/app/products', 'fas fa-marker', 'Pages.Tenants'), new MenuItem(\"Warehouses\", '/app/warehouses', 'fas fa-warehouse', 'Pages.Tenants'), new MenuItem(\"Documents\", '/app/documents', 'fas fa-file-alt', 'Pages.Tenants') // new MenuItem(this.l('MultiLevelMenu'), '', 'fas fa-circle', '', [\n      //     new MenuItem('ASP.NET Boilerplate', '', 'fas fa-dot-circle', '', [\n      //         new MenuItem(\n      //             'Home',\n      //             'https://aspnetboilerplate.com?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Templates',\n      //             'https://aspnetboilerplate.com/Templates?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Samples',\n      //             'https://aspnetboilerplate.com/Samples?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Documents',\n      //             'https://aspnetboilerplate.com/Pages/Documents?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //     ]),\n      //     new MenuItem('ASP.NET Zero', '', 'fas fa-dot-circle', '', [\n      //         new MenuItem(\n      //             'Home',\n      //             'https://aspnetzero.com?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Features',\n      //             'https://aspnetzero.com/Features?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Pricing',\n      //             'https://aspnetzero.com/Pricing?ref=abptmpl#pricing',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Faq',\n      //             'https://aspnetzero.com/Faq?ref=abptmpl',\n      //             'far fa-circle'\n      //         ),\n      //         new MenuItem(\n      //             'Documents',\n      //             'https://aspnetzero.com/Documents?ref=abptmpl',\n      //             'far fa-circle'\n      //         )\n      //     ])\n      // ])\n      ];\n    }\n  }, {\n    key: \"patchMenuItems\",\n    value: function patchMenuItems(items, parentId) {\n      var _this3 = this;\n\n      items.forEach(function (item, index) {\n        item.id = parentId ? Number(parentId + '' + (index + 1)) : index + 1;\n\n        if (parentId) {\n          item.parentId = parentId;\n        }\n\n        if (parentId || item.children) {\n          _this3.menuItemsMap[item.id] = item;\n        }\n\n        if (item.children) {\n          _this3.patchMenuItems(item.children, item.id);\n        }\n      });\n    }\n  }, {\n    key: \"activateMenuItems\",\n    value: function activateMenuItems(url) {\n      var _this4 = this;\n\n      this.deactivateMenuItems(this.menuItems);\n      this.activatedMenuItems = [];\n      var foundedItems = this.findMenuItemsByUrl(url, this.menuItems);\n      foundedItems.forEach(function (item) {\n        _this4.activateMenuItem(item);\n      });\n    }\n  }, {\n    key: \"deactivateMenuItems\",\n    value: function deactivateMenuItems(items) {\n      var _this5 = this;\n\n      items.forEach(function (item) {\n        item.isActive = false;\n        item.isCollapsed = true;\n\n        if (item.children) {\n          _this5.deactivateMenuItems(item.children);\n        }\n      });\n    }\n  }, {\n    key: \"findMenuItemsByUrl\",\n    value: function findMenuItemsByUrl(url, items) {\n      var _this6 = this;\n\n      var foundedItems = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      items.forEach(function (item) {\n        if (item.route === url) {\n          foundedItems.push(item);\n        } else if (item.children) {\n          _this6.findMenuItemsByUrl(url, item.children, foundedItems);\n        }\n      });\n      return foundedItems;\n    }\n  }, {\n    key: \"activateMenuItem\",\n    value: function activateMenuItem(item) {\n      item.isActive = true;\n\n      if (item.children) {\n        item.isCollapsed = false;\n      }\n\n      this.activatedMenuItems.push(item);\n\n      if (item.parentId) {\n        this.activateMenuItem(this.menuItemsMap[item.parentId]);\n      }\n    }\n  }, {\n    key: \"isMenuItemVisible\",\n    value: function isMenuItemVisible(item) {\n      if (!item.permissionName) {\n        return true;\n      }\n\n      return this.permission.isGranted(item.permissionName);\n    }\n  }]);\n\n  return SidebarMenuComponent;\n}(AppComponentBase);\n\nSidebarMenuComponent.ɵfac = function SidebarMenuComponent_Factory(t) {\n  return new (t || SidebarMenuComponent)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nSidebarMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SidebarMenuComponent,\n  selectors: [[\"sidebar-menu\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"mt-2\"], [\"data-widget\", \"treeview\", \"role\", \"menu\", \"data-accordion\", \"false\", 1, \"nav\", \"nav-pills\", \"nav-sidebar\", \"flex-column\", \"nav-flat\"], [4, \"ngFor\", \"ngForOf\"], [\"sidebarInner\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"class\", \"nav-item\", 3, \"menu-open\", \"has-treeview\", 4, \"ngIf\"], [1, \"nav-item\"], [\"class\", \"nav-link\", 3, \"routerLink\", \"active\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"target\", \"_blank\", 3, \"href\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"href\", \"javascript:;\", 3, \"active\", \"click\", 4, \"ngIf\"], [\"class\", \"nav nav-treeview\", 3, \"collapse\", \"isAnimated\", 4, \"ngIf\"], [1, \"nav-link\", 3, \"routerLink\"], [\"target\", \"_blank\", 1, \"nav-link\", 3, \"href\"], [\"href\", \"javascript:;\", 1, \"nav-link\", 3, \"click\"], [1, \"right\", \"fas\", \"fa-angle-left\"], [1, \"nav\", \"nav-treeview\", 3, \"collapse\", \"isAnimated\"]],\n  template: function SidebarMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ul\", 1);\n      i0.ɵɵtemplate(2, SidebarMenuComponent_ng_container_2_Template, 2, 4, \"ng-container\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, SidebarMenuComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.menuItems);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, i3.CollapseDirective, i1.RouterLinkWithHref],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["Injector","AppComponentBase","NavigationEnd","PRIMARY_OUTLET","BehaviorSubject","filter","MenuItem","i0","item_r5","SidebarMenuComponent","injector","router","undefined","events","subscribe","routerEvents","menuItems","getMenuItems","patchMenuItems","pipe","event","currentUrl","url","homeRoute","primaryUrlSegmentGroup","parseUrl","root","children","activateMenuItems","toString","l","items","parentId","forEach","item","index","id","Number","menuItemsMap","deactivateMenuItems","activatedMenuItems","foundedItems","findMenuItemsByUrl","activateMenuItem","isActive","isCollapsed","route","push","permissionName","permission","isGranted","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/selim/repo/eryaz/angular/src/app/layout/sidebar-menu.component.ts","/Users/selim/repo/eryaz/angular/src/app/layout/sidebar-menu.component.html"],"sourcesContent":["import { Component, Injector, OnInit } from '@angular/core';\nimport { AppComponentBase } from '@shared/app-component-base';\nimport {\n    Router,\n    RouterEvent,\n    NavigationEnd,\n    PRIMARY_OUTLET\n} from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MenuItem } from '@shared/layout/menu-item';\n\n@Component({\n    selector: 'sidebar-menu',\n    templateUrl: './sidebar-menu.component.html'\n})\nexport class SidebarMenuComponent extends AppComponentBase implements OnInit {\n    menuItems: MenuItem[];\n    menuItemsMap: { [key: number]: MenuItem } = {};\n    activatedMenuItems: MenuItem[] = [];\n    routerEvents: BehaviorSubject<RouterEvent> = new BehaviorSubject(undefined);\n    homeRoute = '/app/about';\n\n    constructor(injector: Injector, private router: Router) {\n        super(injector);\n        this.router.events.subscribe(this.routerEvents);\n    }\n\n    ngOnInit(): void {\n        this.menuItems = this.getMenuItems();\n        this.patchMenuItems(this.menuItems);\n        this.routerEvents\n            .pipe(filter((event) => event instanceof NavigationEnd))\n            .subscribe((event) => {\n                const currentUrl = event.url !== '/' ? event.url : this.homeRoute;\n                const primaryUrlSegmentGroup = this.router.parseUrl(currentUrl).root\n                    .children[PRIMARY_OUTLET];\n                if (primaryUrlSegmentGroup) {\n                    this.activateMenuItems('/' + primaryUrlSegmentGroup.toString());\n                }\n            });\n    }\n\n    getMenuItems(): MenuItem[] {\n        return [\n            new MenuItem(this.l('About'), '/app/about', 'fas fa-info-circle'),\n            new MenuItem(this.l('HomePage'), '/app/home', 'fas fa-home'),\n            new MenuItem(\n                this.l('Roles'),\n                '/app/roles',\n                'fas fa-theater-masks',\n                'Pages.Roles'\n            ),\n            // new MenuItem(\n            //     this.l('Tenants'),\n            //     '/app/tenants',\n            //     'fas fa-building',\n            //     'Pages.Tenants'\n            // ),\n            // new MenuItem(\n            //     this.l('Users'),\n            //     '/app/users',\n            //     'fas fa-users',\n            //     'Pages.Users'\n            // ),\n\n            // Selim\n            new MenuItem(\n                \"Customers\",\n                '/app/customers',\n                'fas fa-user-shield',\n                'Pages.Customers'\n            ),\n            new MenuItem(\n                \"Products\",\n                '/app/products',\n                'fas fa-marker',\n                'Pages.Tenants'\n            ),\n            new MenuItem(\n                \"Warehouses\",\n                '/app/warehouses',\n                'fas fa-warehouse',\n                'Pages.Tenants'\n            ),\n            new MenuItem(\n                \"Documents\",\n                '/app/documents',\n                'fas fa-file-alt',\n                'Pages.Tenants'\n            ),\n\n            // new MenuItem(this.l('MultiLevelMenu'), '', 'fas fa-circle', '', [\n            //     new MenuItem('ASP.NET Boilerplate', '', 'fas fa-dot-circle', '', [\n            //         new MenuItem(\n            //             'Home',\n            //             'https://aspnetboilerplate.com?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Templates',\n            //             'https://aspnetboilerplate.com/Templates?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Samples',\n            //             'https://aspnetboilerplate.com/Samples?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Documents',\n            //             'https://aspnetboilerplate.com/Pages/Documents?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //     ]),\n            //     new MenuItem('ASP.NET Zero', '', 'fas fa-dot-circle', '', [\n            //         new MenuItem(\n            //             'Home',\n            //             'https://aspnetzero.com?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Features',\n            //             'https://aspnetzero.com/Features?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Pricing',\n            //             'https://aspnetzero.com/Pricing?ref=abptmpl#pricing',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Faq',\n            //             'https://aspnetzero.com/Faq?ref=abptmpl',\n            //             'far fa-circle'\n            //         ),\n            //         new MenuItem(\n            //             'Documents',\n            //             'https://aspnetzero.com/Documents?ref=abptmpl',\n            //             'far fa-circle'\n            //         )\n            //     ])\n            // ])\n        ];\n    }\n\n    patchMenuItems(items: MenuItem[], parentId?: number): void {\n        items.forEach((item: MenuItem, index: number) => {\n            item.id = parentId ? Number(parentId + '' + (index + 1)) : index + 1;\n            if (parentId) {\n                item.parentId = parentId;\n            }\n            if (parentId || item.children) {\n                this.menuItemsMap[item.id] = item;\n            }\n            if (item.children) {\n                this.patchMenuItems(item.children, item.id);\n            }\n        });\n    }\n\n    activateMenuItems(url: string): void {\n        this.deactivateMenuItems(this.menuItems);\n        this.activatedMenuItems = [];\n        const foundedItems = this.findMenuItemsByUrl(url, this.menuItems);\n        foundedItems.forEach((item) => {\n            this.activateMenuItem(item);\n        });\n    }\n\n    deactivateMenuItems(items: MenuItem[]): void {\n        items.forEach((item: MenuItem) => {\n            item.isActive = false;\n            item.isCollapsed = true;\n            if (item.children) {\n                this.deactivateMenuItems(item.children);\n            }\n        });\n    }\n\n    findMenuItemsByUrl(\n        url: string,\n        items: MenuItem[],\n        foundedItems: MenuItem[] = []\n    ): MenuItem[] {\n        items.forEach((item: MenuItem) => {\n            if (item.route === url) {\n                foundedItems.push(item);\n            } else if (item.children) {\n                this.findMenuItemsByUrl(url, item.children, foundedItems);\n            }\n        });\n        return foundedItems;\n    }\n\n    activateMenuItem(item: MenuItem): void {\n        item.isActive = true;\n        if (item.children) {\n            item.isCollapsed = false;\n        }\n        this.activatedMenuItems.push(item);\n        if (item.parentId) {\n            this.activateMenuItem(this.menuItemsMap[item.parentId]);\n        }\n    }\n\n    isMenuItemVisible(item: MenuItem): boolean {\n        if (!item.permissionName) {\n            return true;\n        }\n        return this.permission.isGranted(item.permissionName);\n    }\n}\n","<nav class=\"mt-2\">\n  <ul\n    class=\"nav nav-pills nav-sidebar flex-column nav-flat\"\n    data-widget=\"treeview\"\n    role=\"menu\"\n    data-accordion=\"false\"\n  >\n    <ng-container *ngFor=\"let item of menuItems\">\n      <ng-container\n        *ngTemplateOutlet=\"sidebarInner; context: { item: item }\"\n      ></ng-container>\n    </ng-container>\n  </ul>\n</nav>\n\n<ng-template #sidebarInner let-item=\"item\">\n  <li\n    *ngIf=\"isMenuItemVisible(item)\"\n    class=\"nav-item\"\n    [class.menu-open]=\"!item.isCollapsed\"\n    [class.has-treeview]=\"item.children\"\n  >\n    <a\n      *ngIf=\"item.route && item.route.indexOf('http') != 0\"\n      class=\"nav-link\"\n      [routerLink]=\"item.route\"\n      [class.active]=\"item.isActive\"\n    >\n      <i class=\"nav-icon {{ item.icon }}\"></i>\n      <p>\n        {{ item.label }}\n      </p>\n    </a>\n    <a\n      *ngIf=\"item.route && item.route.indexOf('http') == 0 && !item.children\"\n      class=\"nav-link\"\n      target=\"_blank\"\n      [href]=\"item.route\"\n    >\n      <i class=\"nav-icon {{ item.icon }}\"></i>\n      <p>\n        {{ item.label }}\n      </p>\n    </a>\n    <a\n      *ngIf=\"!item.route && item.children\"\n      class=\"nav-link\"\n      href=\"javascript:;\"\n      [class.active]=\"item.isActive\"\n      (click)=\"item.isCollapsed = !item.isCollapsed\"\n    >\n      <i class=\"nav-icon {{ item.icon }}\"></i>\n      <p>\n        {{ item.label }}\n        <i class=\"right fas fa-angle-left\"></i>\n      </p>\n    </a>\n    <ul\n      *ngIf=\"item.children\"\n      class=\"nav nav-treeview\"\n      [collapse]=\"item.isCollapsed\"\n      [isAnimated]=\"true\"\n    >\n      <ng-container *ngFor=\"let item of item.children\">\n        <ng-container\n          *ngTemplateOutlet=\"sidebarInner; context: { item: item }\"\n        ></ng-container>\n      </ng-container>\n    </ul>\n  </li>\n</ng-template>\n"]},"metadata":{},"sourceType":"module"}