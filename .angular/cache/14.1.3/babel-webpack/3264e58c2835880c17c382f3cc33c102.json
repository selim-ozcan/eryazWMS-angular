{"ast":null,"code":"import _classCallCheck from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/selim/repo/eryaz/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { AppConsts } from '@shared/AppConsts';\nimport { UtilsService } from 'abp-ng2-module';\nexport var SignalRAspNetCoreHelper = /*#__PURE__*/function () {\n  function SignalRAspNetCoreHelper() {\n    _classCallCheck(this, SignalRAspNetCoreHelper);\n  }\n\n  _createClass(SignalRAspNetCoreHelper, null, [{\n    key: \"initSignalR\",\n    value: function initSignalR(callback) {\n      var encryptedAuthToken = new UtilsService().getCookieValue(AppConsts.authorization.encryptedAuthTokenName);\n      abp.signalr = {\n        autoConnect: true,\n        connect: undefined,\n        hubs: undefined,\n        qs: AppConsts.authorization.encryptedAuthTokenName + '=' + encodeURIComponent(encryptedAuthToken),\n        remoteServiceBaseUrl: AppConsts.remoteServiceBaseUrl,\n        startConnection: undefined,\n        url: '/signalr'\n      };\n      var script = document.createElement('script');\n\n      if (callback) {\n        script.onload = function () {\n          callback();\n        };\n      }\n\n      script.src = AppConsts.appBaseUrl + '/assets/abp/abp.signalr-client.js';\n      document.head.appendChild(script);\n    }\n  }]);\n\n  return SignalRAspNetCoreHelper;\n}();","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAA0B,mBAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,WAAaC,uBAAb;EAAA;IAAA;EAAA;;EAAA;IAAA;IAAA,OACI,qBAAmBC,QAAnB,EAAwC;MACpC,IAAMC,kBAAkB,GAAG,IAAIH,YAAJ,GAAmBI,cAAnB,CAAkCL,SAAS,CAACM,aAAV,CAAwBC,sBAA1D,CAA3B;MAEAC,GAAG,CAACC,OAAJ,GAAc;QACVC,WAAW,EAAE,IADH;QAEVC,OAAO,EAAEC,SAFC;QAGVC,IAAI,EAAED,SAHI;QAIVE,EAAE,EAAEd,SAAS,CAACM,aAAV,CAAwBC,sBAAxB,GAAiD,GAAjD,GAAuDQ,kBAAkB,CAACX,kBAAD,CAJnE;QAKVY,oBAAoB,EAAEhB,SAAS,CAACgB,oBALtB;QAMVC,eAAe,EAAEL,SANP;QAOVM,GAAG,EAAE;MAPK,CAAd;MAUA,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;;MACA,IAAIlB,QAAJ,EAAc;QACVgB,MAAM,CAACG,MAAP,GAAgB,YAAK;UACjBnB,QAAQ;QACX,CAFD;MAGH;;MACDgB,MAAM,CAACI,GAAP,GAAavB,SAAS,CAACwB,UAAV,GAAuB,mCAApC;MACAJ,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,MAA1B;IACH;EAtBL;;EAAA;AAAA","names":["AppConsts","UtilsService","SignalRAspNetCoreHelper","callback","encryptedAuthToken","getCookieValue","authorization","encryptedAuthTokenName","abp","signalr","autoConnect","connect","undefined","hubs","qs","encodeURIComponent","remoteServiceBaseUrl","startConnection","url","script","document","createElement","onload","src","appBaseUrl","head","appendChild"],"sourceRoot":"","sources":["/Users/selim/repo/eryaz/angular/src/shared/helpers/SignalRAspNetCoreHelper.ts"],"sourcesContent":["import { AppConsts } from '@shared/AppConsts';\nimport { UtilsService } from 'abp-ng2-module';\n\nexport class SignalRAspNetCoreHelper {\n    static initSignalR(callback?: () => void): void {\n        const encryptedAuthToken = new UtilsService().getCookieValue(AppConsts.authorization.encryptedAuthTokenName);\n\n        abp.signalr = {\n            autoConnect: true,\n            connect: undefined,\n            hubs: undefined,\n            qs: AppConsts.authorization.encryptedAuthTokenName + '=' + encodeURIComponent(encryptedAuthToken),\n            remoteServiceBaseUrl: AppConsts.remoteServiceBaseUrl,\n            startConnection: undefined,\n            url: '/signalr'\n        };\n\n        const script = document.createElement('script');\n        if (callback) {\n            script.onload = () => {\n                callback();\n            };\n        }\n        script.src = AppConsts.appBaseUrl + '/assets/abp/abp.signalr-client.js';\n        document.head.appendChild(script);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}